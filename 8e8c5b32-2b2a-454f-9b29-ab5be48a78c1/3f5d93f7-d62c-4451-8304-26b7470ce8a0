/** <<Typr Font Parser> function dependency: S2>.init **/

troikaDefine(
function(){return (
function S2(){return typeof window>"u"&&(self.window=self),function(c){var e={parse:function(r){var n=e._bin,a=new Uint8Array(r);if(n.readASCII(a,0,4)=="ttcf"){var l=4;n.readUshort(a,l),l+=2,n.readUshort(a,l),l+=2;var u=n.readUint(a,l);l+=4;for(var f=[],h=0;h<u;h++){var m=n.readUint(a,l);l+=4,f.push(e._readFont(a,m))}return f}return[e._readFont(a,0)]},_readFont:function(r,n){var a=e._bin,l=n;a.readFixed(r,n),n+=4;var u=a.readUshort(r,n);n+=2,a.readUshort(r,n),n+=2,a.readUshort(r,n),n+=2,a.readUshort(r,n),n+=2;for(var f=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],h={_data:r,_offset:l},m={},g=0;g<u;g++){var _=a.readASCII(r,n,4);n+=4,a.readUint(r,n),n+=4;var y=a.readUint(r,n);n+=4;var A=a.readUint(r,n);n+=4,m[_]={offset:y,length:A}}for(g=0;g<f.length;g++){var B=f[g];m[B]&&(h[B.trim()]=e[B.trim()].parse(r,m[B].offset,m[B].length,h))}return h},_tabOffset:function(r,n,a){for(var l=e._bin,u=l.readUshort(r,a+4),f=a+12,h=0;h<u;h++){var m=l.readASCII(r,f,4);f+=4,l.readUint(r,f),f+=4;var g=l.readUint(r,f);if(f+=4,l.readUint(r,f),f+=4,m==n)return g}return 0}};e._bin={readFixed:function(r,n){return(r[n]<<8|r[n+1])+(r[n+2]<<8|r[n+3])/65540},readF2dot14:function(r,n){return e._bin.readShort(r,n)/16384},readInt:function(r,n){return e._bin._view(r).getInt32(n)},readInt8:function(r,n){return e._bin._view(r).getInt8(n)},readShort:function(r,n){return e._bin._view(r).getInt16(n)},readUshort:function(r,n){return e._bin._view(r).getUint16(n)},readUshorts:function(r,n,a){for(var l=[],u=0;u<a;u++)l.push(e._bin.readUshort(r,n+2*u));return l},readUint:function(r,n){return e._bin._view(r).getUint32(n)},readUint64:function(r,n){return 4294967296*e._bin.readUint(r,n)+e._bin.readUint(r,n+4)},readASCII:function(r,n,a){for(var l="",u=0;u<a;u++)l+=String.fromCharCode(r[n+u]);return l},readUnicode:function(r,n,a){for(var l="",u=0;u<a;u++){var f=r[n++]<<8|r[n++];l+=String.fromCharCode(f)}return l},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,n,a){var l=e._bin._tdec;return l&&n==0&&a==r.length?l.decode(r):e._bin.readASCII(r,n,a)},readBytes:function(r,n,a){for(var l=[],u=0;u<a;u++)l.push(r[n+u]);return l},readASCIIArray:function(r,n,a){for(var l=[],u=0;u<a;u++)l.push(String.fromCharCode(r[n+u]));return l},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,n,a,l,u){var f=e._bin,h={},m=n;f.readFixed(r,n),n+=4;var g=f.readUshort(r,n);n+=2;var _=f.readUshort(r,n);n+=2;var y=f.readUshort(r,n);return n+=2,h.scriptList=e._lctf.readScriptList(r,m+g),h.featureList=e._lctf.readFeatureList(r,m+_),h.lookupList=e._lctf.readLookupList(r,m+y,u),h},e._lctf.readLookupList=function(r,n,a){var l=e._bin,u=n,f=[],h=l.readUshort(r,n);n+=2;for(var m=0;m<h;m++){var g=l.readUshort(r,n);n+=2;var _=e._lctf.readLookupTable(r,u+g,a);f.push(_)}return f},e._lctf.readLookupTable=function(r,n,a){var l=e._bin,u=n,f={tabs:[]};f.ltype=l.readUshort(r,n),n+=2,f.flag=l.readUshort(r,n),n+=2;var h=l.readUshort(r,n);n+=2;for(var m=f.ltype,g=0;g<h;g++){var _=l.readUshort(r,n);n+=2;var y=a(r,m,u+_,f);f.tabs.push(y)}return f},e._lctf.numOfOnes=function(r){for(var n=0,a=0;a<32;a++)r>>>a&1&&n++;return n},e._lctf.readClassDef=function(r,n){var a=e._bin,l=[],u=a.readUshort(r,n);if(n+=2,u==1){var f=a.readUshort(r,n);n+=2;var h=a.readUshort(r,n);n+=2;for(var m=0;m<h;m++)l.push(f+m),l.push(f+m),l.push(a.readUshort(r,n)),n+=2}if(u==2){var g=a.readUshort(r,n);for(n+=2,m=0;m<g;m++)l.push(a.readUshort(r,n)),n+=2,l.push(a.readUshort(r,n)),n+=2,l.push(a.readUshort(r,n)),n+=2}return l},e._lctf.getInterval=function(r,n){for(var a=0;a<r.length;a+=3){var l=r[a],u=r[a+1];if(r[a+2],l<=n&&n<=u)return a}return-1},e._lctf.readCoverage=function(r,n){var a=e._bin,l={};l.fmt=a.readUshort(r,n),n+=2;var u=a.readUshort(r,n);return n+=2,l.fmt==1&&(l.tab=a.readUshorts(r,n,u)),l.fmt==2&&(l.tab=a.readUshorts(r,n,3*u)),l},e._lctf.coverageIndex=function(r,n){var a=r.tab;if(r.fmt==1)return a.indexOf(n);if(r.fmt==2){var l=e._lctf.getInterval(a,n);if(l!=-1)return a[l+2]+(n-a[l])}return-1},e._lctf.readFeatureList=function(r,n){var a=e._bin,l=n,u=[],f=a.readUshort(r,n);n+=2;for(var h=0;h<f;h++){var m=a.readASCII(r,n,4);n+=4;var g=a.readUshort(r,n);n+=2;var _=e._lctf.readFeatureTable(r,l+g);_.tag=m.trim(),u.push(_)}return u},e._lctf.readFeatureTable=function(r,n){var a=e._bin,l=n,u={},f=a.readUshort(r,n);n+=2,f>0&&(u.featureParams=l+f);var h=a.readUshort(r,n);n+=2,u.tab=[];for(var m=0;m<h;m++)u.tab.push(a.readUshort(r,n+2*m));return u},e._lctf.readScriptList=function(r,n){var a=e._bin,l=n,u={},f=a.readUshort(r,n);n+=2;for(var h=0;h<f;h++){var m=a.readASCII(r,n,4);n+=4;var g=a.readUshort(r,n);n+=2,u[m.trim()]=e._lctf.readScriptTable(r,l+g)}return u},e._lctf.readScriptTable=function(r,n){var a=e._bin,l=n,u={},f=a.readUshort(r,n);n+=2,f>0&&(u.default=e._lctf.readLangSysTable(r,l+f));var h=a.readUshort(r,n);n+=2;for(var m=0;m<h;m++){var g=a.readASCII(r,n,4);n+=4;var _=a.readUshort(r,n);n+=2,u[g.trim()]=e._lctf.readLangSysTable(r,l+_)}return u},e._lctf.readLangSysTable=function(r,n){var a=e._bin,l={};a.readUshort(r,n),n+=2,l.reqFeature=a.readUshort(r,n),n+=2;var u=a.readUshort(r,n);return n+=2,l.features=a.readUshorts(r,n,u),l},e.CFF={},e.CFF.parse=function(r,n,a){var l=e._bin;(r=new Uint8Array(r.buffer,n,a))[n=0],r[++n],r[++n],r[++n],n++;var u=[];n=e.CFF.readIndex(r,n,u);for(var f=[],h=0;h<u.length-1;h++)f.push(l.readASCII(r,n+u[h],u[h+1]-u[h]));n+=u[u.length-1];var m=[];n=e.CFF.readIndex(r,n,m);var g=[];for(h=0;h<m.length-1;h++)g.push(e.CFF.readDict(r,n+m[h],n+m[h+1]));n+=m[m.length-1];var _=g[0],y=[];n=e.CFF.readIndex(r,n,y);var A=[];for(h=0;h<y.length-1;h++)A.push(l.readASCII(r,n+y[h],y[h+1]-y[h]));if(n+=y[y.length-1],e.CFF.readSubrs(r,n,_),_.CharStrings){n=_.CharStrings,y=[],n=e.CFF.readIndex(r,n,y);var B=[];for(h=0;h<y.length-1;h++)B.push(l.readBytes(r,n+y[h],y[h+1]-y[h]));_.CharStrings=B}if(_.ROS){n=_.FDArray;var x=[];for(n=e.CFF.readIndex(r,n,x),_.FDArray=[],h=0;h<x.length-1;h++){var S=e.CFF.readDict(r,n+x[h],n+x[h+1]);e.CFF._readFDict(r,S,A),_.FDArray.push(S)}n+=x[x.length-1],n=_.FDSelect,_.FDSelect=[];var E=r[n];if(n++,E!=3)throw E;var T=l.readUshort(r,n);for(n+=2,h=0;h<T+1;h++)_.FDSelect.push(l.readUshort(r,n),r[n+2]),n+=3}return _.Encoding&&(_.Encoding=e.CFF.readEncoding(r,_.Encoding,_.CharStrings.length)),_.charset&&(_.charset=e.CFF.readCharset(r,_.charset,_.CharStrings.length)),e.CFF._readFDict(r,_,A),_},e.CFF._readFDict=function(r,n,a){var l;for(var u in n.Private&&(l=n.Private[1],n.Private=e.CFF.readDict(r,l,l+n.Private[0]),n.Private.Subrs&&e.CFF.readSubrs(r,l+n.Private.Subrs,n.Private)),n)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(u)!=-1&&(n[u]=a[n[u]-426+35])},e.CFF.readSubrs=function(r,n,a){var l=e._bin,u=[];n=e.CFF.readIndex(r,n,u);var f,h=u.length;f=h<1240?107:h<33900?1131:32768,a.Bias=f,a.Subrs=[];for(var m=0;m<u.length-1;m++)a.Subrs.push(l.readBytes(r,n+u[m],u[m+1]-u[m]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,n){for(var a=0;a<r.charset.length;a++)if(r.charset[a]==n)return a;return-1},e.CFF.glyphBySE=function(r,n){return n<0||n>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[n])},e.CFF.readEncoding=function(r,n,a){e._bin;var l=[".notdef"],u=r[n];if(n++,u!=0)throw"error: unknown encoding format: "+u;var f=r[n];n++;for(var h=0;h<f;h++)l.push(r[n+h]);return l},e.CFF.readCharset=function(r,n,a){var l=e._bin,u=[".notdef"],f=r[n];if(n++,f==0)for(var h=0;h<a;h++){var m=l.readUshort(r,n);n+=2,u.push(m)}else{if(f!=1&&f!=2)throw"error: format: "+f;for(;u.length<a;){m=l.readUshort(r,n),n+=2;var g=0;for(f==1?(g=r[n],n++):(g=l.readUshort(r,n),n+=2),h=0;h<=g;h++)u.push(m),m++}}return u},e.CFF.readIndex=function(r,n,a){var l=e._bin,u=l.readUshort(r,n)+1,f=r[n+=2];if(n++,f==1)for(var h=0;h<u;h++)a.push(r[n+h]);else if(f==2)for(h=0;h<u;h++)a.push(l.readUshort(r,n+2*h));else if(f==3)for(h=0;h<u;h++)a.push(16777215&l.readUint(r,n+3*h-1));else if(u!=1)throw"unsupported offset size: "+f+", count: "+u;return(n+=u*f)-1},e.CFF.getCharString=function(r,n,a){var l=e._bin,u=r[n],f=r[n+1];r[n+2],r[n+3],r[n+4];var h=1,m=null,g=null;u<=20&&(m=u,h=1),u==12&&(m=100*u+f,h=2),21<=u&&u<=27&&(m=u,h=1),u==28&&(g=l.readShort(r,n+1),h=3),29<=u&&u<=31&&(m=u,h=1),32<=u&&u<=246&&(g=u-139,h=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,h=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,h=2),u==255&&(g=l.readInt(r,n+1)/65535,h=5),a.val=g??"o"+m,a.size=h},e.CFF.readCharString=function(r,n,a){for(var l=n+a,u=e._bin,f=[];n<l;){var h=r[n],m=r[n+1];r[n+2],r[n+3],r[n+4];var g=1,_=null,y=null;h<=20&&(_=h,g=1),h==12&&(_=100*h+m,g=2),h!=19&&h!=20||(_=h,g=2),21<=h&&h<=27&&(_=h,g=1),h==28&&(y=u.readShort(r,n+1),g=3),29<=h&&h<=31&&(_=h,g=1),32<=h&&h<=246&&(y=h-139,g=1),247<=h&&h<=250&&(y=256*(h-247)+m+108,g=2),251<=h&&h<=254&&(y=256*-(h-251)-m-108,g=2),h==255&&(y=u.readInt(r,n+1)/65535,g=5),f.push(y??"o"+_),n+=g}return f},e.CFF.readDict=function(r,n,a){for(var l=e._bin,u={},f=[];n<a;){var h=r[n],m=r[n+1];r[n+2],r[n+3],r[n+4];var g=1,_=null,y=null;if(h==28&&(y=l.readShort(r,n+1),g=3),h==29&&(y=l.readInt(r,n+1),g=5),32<=h&&h<=246&&(y=h-139,g=1),247<=h&&h<=250&&(y=256*(h-247)+m+108,g=2),251<=h&&h<=254&&(y=256*-(h-251)-m-108,g=2),h==255)throw y=l.readInt(r,n+1)/65535,g=5,"unknown number";if(h==30){var A=[];for(g=1;;){var B=r[n+g];g++;var x=B>>4,S=15&B;if(x!=15&&A.push(x),S!=15&&A.push(S),S==15)break}for(var E="",T=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],w=0;w<A.length;w++)E+=T[A[w]];y=parseFloat(E)}h<=21&&(_=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][h],g=1,h==12&&(_=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][m],g=2)),_!=null?(u[_]=f.length==1?f[0]:f,f=[]):f.push(y),n+=g}return u},e.cmap={},e.cmap.parse=function(r,n,a){r=new Uint8Array(r.buffer,n,a),n=0;var l=e._bin,u={};l.readUshort(r,n),n+=2;var f=l.readUshort(r,n);n+=2;var h=[];u.tables=[];for(var m=0;m<f;m++){var g=l.readUshort(r,n);n+=2;var _=l.readUshort(r,n);n+=2;var y=l.readUint(r,n);n+=4;var A="p"+g+"e"+_,B=h.indexOf(y);if(B==-1){var x;B=u.tables.length,h.push(y);var S=l.readUshort(r,y);S==0?x=e.cmap.parse0(r,y):S==4?x=e.cmap.parse4(r,y):S==6?x=e.cmap.parse6(r,y):S==12?x=e.cmap.parse12(r,y):console.debug("unknown format: "+S,g,_,y),u.tables.push(x)}if(u[A]!=null)throw"multiple tables for one platform+encoding";u[A]=B}return u},e.cmap.parse0=function(r,n){var a=e._bin,l={};l.format=a.readUshort(r,n),n+=2;var u=a.readUshort(r,n);n+=2,a.readUshort(r,n),n+=2,l.map=[];for(var f=0;f<u-6;f++)l.map.push(r[n+f]);return l},e.cmap.parse4=function(r,n){var a=e._bin,l=n,u={};u.format=a.readUshort(r,n),n+=2;var f=a.readUshort(r,n);n+=2,a.readUshort(r,n),n+=2;var h=a.readUshort(r,n);n+=2;var m=h/2;u.searchRange=a.readUshort(r,n),n+=2,u.entrySelector=a.readUshort(r,n),n+=2,u.rangeShift=a.readUshort(r,n),n+=2,u.endCount=a.readUshorts(r,n,m),n+=2*m,n+=2,u.startCount=a.readUshorts(r,n,m),n+=2*m,u.idDelta=[];for(var g=0;g<m;g++)u.idDelta.push(a.readShort(r,n)),n+=2;for(u.idRangeOffset=a.readUshorts(r,n,m),n+=2*m,u.glyphIdArray=[];n<l+f;)u.glyphIdArray.push(a.readUshort(r,n)),n+=2;return u},e.cmap.parse6=function(r,n){var a=e._bin,l={};l.format=a.readUshort(r,n),n+=2,a.readUshort(r,n),n+=2,a.readUshort(r,n),n+=2,l.firstCode=a.readUshort(r,n),n+=2;var u=a.readUshort(r,n);n+=2,l.glyphIdArray=[];for(var f=0;f<u;f++)l.glyphIdArray.push(a.readUshort(r,n)),n+=2;return l},e.cmap.parse12=function(r,n){var a=e._bin,l={};l.format=a.readUshort(r,n),n+=2,n+=2,a.readUint(r,n),n+=4,a.readUint(r,n),n+=4;var u=a.readUint(r,n);n+=4,l.groups=[];for(var f=0;f<u;f++){var h=n+12*f,m=a.readUint(r,h+0),g=a.readUint(r,h+4),_=a.readUint(r,h+8);l.groups.push([m,g,_])}return l},e.glyf={},e.glyf.parse=function(r,n,a,l){for(var u=[],f=0;f<l.maxp.numGlyphs;f++)u.push(null);return u},e.glyf._parseGlyf=function(r,n){var a=e._bin,l=r._data,u=e._tabOffset(l,"glyf",r._offset)+r.loca[n];if(r.loca[n]==r.loca[n+1])return null;var f={};if(f.noc=a.readShort(l,u),u+=2,f.xMin=a.readShort(l,u),u+=2,f.yMin=a.readShort(l,u),u+=2,f.xMax=a.readShort(l,u),u+=2,f.yMax=a.readShort(l,u),u+=2,f.xMin>=f.xMax||f.yMin>=f.yMax)return null;if(f.noc>0){f.endPts=[];for(var h=0;h<f.noc;h++)f.endPts.push(a.readUshort(l,u)),u+=2;var m=a.readUshort(l,u);if(u+=2,l.length-u<m)return null;f.instructions=a.readBytes(l,u,m),u+=m;var g=f.endPts[f.noc-1]+1;for(f.flags=[],h=0;h<g;h++){var _=l[u];if(u++,f.flags.push(_),(8&_)!=0){var y=l[u];u++;for(var A=0;A<y;A++)f.flags.push(_),h++}}for(f.xs=[],h=0;h<g;h++){var B=(2&f.flags[h])!=0,x=(16&f.flags[h])!=0;B?(f.xs.push(x?l[u]:-l[u]),u++):x?f.xs.push(0):(f.xs.push(a.readShort(l,u)),u+=2)}for(f.ys=[],h=0;h<g;h++)B=(4&f.flags[h])!=0,x=(32&f.flags[h])!=0,B?(f.ys.push(x?l[u]:-l[u]),u++):x?f.ys.push(0):(f.ys.push(a.readShort(l,u)),u+=2);var S=0,E=0;for(h=0;h<g;h++)S+=f.xs[h],E+=f.ys[h],f.xs[h]=S,f.ys[h]=E}else{var T;f.parts=[];do{T=a.readUshort(l,u),u+=2;var w={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(f.parts.push(w),w.glyphIndex=a.readUshort(l,u),u+=2,1&T){var b=a.readShort(l,u);u+=2;var R=a.readShort(l,u);u+=2}else b=a.readInt8(l,u),u++,R=a.readInt8(l,u),u++;2&T?(w.m.tx=b,w.m.ty=R):(w.p1=b,w.p2=R),8&T?(w.m.a=w.m.d=a.readF2dot14(l,u),u+=2):64&T?(w.m.a=a.readF2dot14(l,u),u+=2,w.m.d=a.readF2dot14(l,u),u+=2):128&T&&(w.m.a=a.readF2dot14(l,u),u+=2,w.m.b=a.readF2dot14(l,u),u+=2,w.m.c=a.readF2dot14(l,u),u+=2,w.m.d=a.readF2dot14(l,u),u+=2)}while(32&T);if(256&T){var F=a.readUshort(l,u);for(u+=2,f.instr=[],h=0;h<F;h++)f.instr.push(l[u]),u++}}return f},e.GDEF={},e.GDEF.parse=function(r,n,a,l){var u=n;n+=4;var f=e._bin.readUshort(r,n);return{glyphClassDef:f===0?null:e._lctf.readClassDef(r,u+f)}},e.GPOS={},e.GPOS.parse=function(r,n,a,l){return e._lctf.parse(r,n,a,l,e.GPOS.subt)},e.GPOS.subt=function(r,n,a,l){var u=e._bin,f=a,h={};if(h.fmt=u.readUshort(r,a),a+=2,n==1||n==2||n==3||n==7||n==8&&h.fmt<=2){var m=u.readUshort(r,a);a+=2,h.coverage=e._lctf.readCoverage(r,m+f)}if(n==1&&h.fmt==1){var g=u.readUshort(r,a);a+=2,g!=0&&(h.pos=e.GPOS.readValueRecord(r,a,g))}else if(n==2&&h.fmt>=1&&h.fmt<=2){g=u.readUshort(r,a),a+=2;var _=u.readUshort(r,a);a+=2;var y=e._lctf.numOfOnes(g),A=e._lctf.numOfOnes(_);if(h.fmt==1){h.pairsets=[];var B=u.readUshort(r,a);a+=2;for(var x=0;x<B;x++){var S=f+u.readUshort(r,a);a+=2;var E=u.readUshort(r,S);S+=2;for(var T=[],w=0;w<E;w++){var b=u.readUshort(r,S);S+=2,g!=0&&(O=e.GPOS.readValueRecord(r,S,g),S+=2*y),_!=0&&(H=e.GPOS.readValueRecord(r,S,_),S+=2*A),T.push({gid2:b,val1:O,val2:H})}h.pairsets.push(T)}}if(h.fmt==2){var R=u.readUshort(r,a);a+=2;var F=u.readUshort(r,a);a+=2;var D=u.readUshort(r,a);a+=2;var k=u.readUshort(r,a);for(a+=2,h.classDef1=e._lctf.readClassDef(r,f+R),h.classDef2=e._lctf.readClassDef(r,f+F),h.matrix=[],x=0;x<D;x++){var J=[];for(w=0;w<k;w++){var O=null,H=null;g!=0&&(O=e.GPOS.readValueRecord(r,a,g),a+=2*y),_!=0&&(H=e.GPOS.readValueRecord(r,a,_),a+=2*A),J.push({val1:O,val2:H})}h.matrix.push(J)}}}else if(n==4&&h.fmt==1)h.markCoverage=e._lctf.readCoverage(r,u.readUshort(r,a)+f),h.baseCoverage=e._lctf.readCoverage(r,u.readUshort(r,a+2)+f),h.markClassCount=u.readUshort(r,a+4),h.markArray=e.GPOS.readMarkArray(r,u.readUshort(r,a+6)+f),h.baseArray=e.GPOS.readBaseArray(r,u.readUshort(r,a+8)+f,h.markClassCount);else if(n==6&&h.fmt==1)h.mark1Coverage=e._lctf.readCoverage(r,u.readUshort(r,a)+f),h.mark2Coverage=e._lctf.readCoverage(r,u.readUshort(r,a+2)+f),h.markClassCount=u.readUshort(r,a+4),h.mark1Array=e.GPOS.readMarkArray(r,u.readUshort(r,a+6)+f),h.mark2Array=e.GPOS.readBaseArray(r,u.readUshort(r,a+8)+f,h.markClassCount);else{if(n==9&&h.fmt==1){var L=u.readUshort(r,a);a+=2;var q=u.readUint(r,a);if(a+=4,l.ltype==9)l.ltype=L;else if(l.ltype!=L)throw"invalid extension substitution";return e.GPOS.subt(r,l.ltype,f+q)}console.debug("unsupported GPOS table LookupType",n,"format",h.fmt)}return h},e.GPOS.readValueRecord=function(r,n,a){var l=e._bin,u=[];return u.push(1&a?l.readShort(r,n):0),n+=1&a?2:0,u.push(2&a?l.readShort(r,n):0),n+=2&a?2:0,u.push(4&a?l.readShort(r,n):0),n+=4&a?2:0,u.push(8&a?l.readShort(r,n):0),n+=8&a?2:0,u},e.GPOS.readBaseArray=function(r,n,a){var l=e._bin,u=[],f=n,h=l.readUshort(r,n);n+=2;for(var m=0;m<h;m++){for(var g=[],_=0;_<a;_++)g.push(e.GPOS.readAnchorRecord(r,f+l.readUshort(r,n))),n+=2;u.push(g)}return u},e.GPOS.readMarkArray=function(r,n){var a=e._bin,l=[],u=n,f=a.readUshort(r,n);n+=2;for(var h=0;h<f;h++){var m=e.GPOS.readAnchorRecord(r,a.readUshort(r,n+2)+u);m.markClass=a.readUshort(r,n),l.push(m),n+=4}return l},e.GPOS.readAnchorRecord=function(r,n){var a=e._bin,l={};return l.fmt=a.readUshort(r,n),l.x=a.readShort(r,n+2),l.y=a.readShort(r,n+4),l},e.GSUB={},e.GSUB.parse=function(r,n,a,l){return e._lctf.parse(r,n,a,l,e.GSUB.subt)},e.GSUB.subt=function(r,n,a,l){var u=e._bin,f=a,h={};if(h.fmt=u.readUshort(r,a),a+=2,n!=1&&n!=2&&n!=4&&n!=5&&n!=6)return null;if(n==1||n==2||n==4||n==5&&h.fmt<=2||n==6&&h.fmt<=2){var m=u.readUshort(r,a);a+=2,h.coverage=e._lctf.readCoverage(r,f+m)}if(n==1&&h.fmt>=1&&h.fmt<=2){if(h.fmt==1)h.delta=u.readShort(r,a),a+=2;else if(h.fmt==2){var g=u.readUshort(r,a);a+=2,h.newg=u.readUshorts(r,a,g),a+=2*h.newg.length}}else if(n==2&&h.fmt==1){g=u.readUshort(r,a),a+=2,h.seqs=[];for(var _=0;_<g;_++){var y=u.readUshort(r,a)+f;a+=2;var A=u.readUshort(r,y);h.seqs.push(u.readUshorts(r,y+2,A))}}else if(n==4)for(h.vals=[],g=u.readUshort(r,a),a+=2,_=0;_<g;_++){var B=u.readUshort(r,a);a+=2,h.vals.push(e.GSUB.readLigatureSet(r,f+B))}else if(n==5&&h.fmt==2){if(h.fmt==2){var x=u.readUshort(r,a);a+=2,h.cDef=e._lctf.readClassDef(r,f+x),h.scset=[];var S=u.readUshort(r,a);for(a+=2,_=0;_<S;_++){var E=u.readUshort(r,a);a+=2,h.scset.push(E==0?null:e.GSUB.readSubClassSet(r,f+E))}}}else if(n==6&&h.fmt==3){if(h.fmt==3){for(_=0;_<3;_++){g=u.readUshort(r,a),a+=2;for(var T=[],w=0;w<g;w++)T.push(e._lctf.readCoverage(r,f+u.readUshort(r,a+2*w)));a+=2*g,_==0&&(h.backCvg=T),_==1&&(h.inptCvg=T),_==2&&(h.ahedCvg=T)}g=u.readUshort(r,a),a+=2,h.lookupRec=e.GSUB.readSubstLookupRecords(r,a,g)}}else{if(n==7&&h.fmt==1){var b=u.readUshort(r,a);a+=2;var R=u.readUint(r,a);if(a+=4,l.ltype==9)l.ltype=b;else if(l.ltype!=b)throw"invalid extension substitution";return e.GSUB.subt(r,l.ltype,f+R)}console.debug("unsupported GSUB table LookupType",n,"format",h.fmt)}return h},e.GSUB.readSubClassSet=function(r,n){var a=e._bin.readUshort,l=n,u=[],f=a(r,n);n+=2;for(var h=0;h<f;h++){var m=a(r,n);n+=2,u.push(e.GSUB.readSubClassRule(r,l+m))}return u},e.GSUB.readSubClassRule=function(r,n){var a=e._bin.readUshort,l={},u=a(r,n),f=a(r,n+=2);n+=2,l.input=[];for(var h=0;h<u-1;h++)l.input.push(a(r,n)),n+=2;return l.substLookupRecords=e.GSUB.readSubstLookupRecords(r,n,f),l},e.GSUB.readSubstLookupRecords=function(r,n,a){for(var l=e._bin.readUshort,u=[],f=0;f<a;f++)u.push(l(r,n),l(r,n+2)),n+=4;return u},e.GSUB.readChainSubClassSet=function(r,n){var a=e._bin,l=n,u=[],f=a.readUshort(r,n);n+=2;for(var h=0;h<f;h++){var m=a.readUshort(r,n);n+=2,u.push(e.GSUB.readChainSubClassRule(r,l+m))}return u},e.GSUB.readChainSubClassRule=function(r,n){for(var a=e._bin,l={},u=["backtrack","input","lookahead"],f=0;f<u.length;f++){var h=a.readUshort(r,n);n+=2,f==1&&h--,l[u[f]]=a.readUshorts(r,n,h),n+=2*l[u[f]].length}return h=a.readUshort(r,n),n+=2,l.subst=a.readUshorts(r,n,2*h),n+=2*l.subst.length,l},e.GSUB.readLigatureSet=function(r,n){var a=e._bin,l=n,u=[],f=a.readUshort(r,n);n+=2;for(var h=0;h<f;h++){var m=a.readUshort(r,n);n+=2,u.push(e.GSUB.readLigature(r,l+m))}return u},e.GSUB.readLigature=function(r,n){var a=e._bin,l={chain:[]};l.nglyph=a.readUshort(r,n),n+=2;var u=a.readUshort(r,n);n+=2;for(var f=0;f<u-1;f++)l.chain.push(a.readUshort(r,n)),n+=2;return l},e.head={},e.head.parse=function(r,n,a){var l=e._bin,u={};return l.readFixed(r,n),n+=4,u.fontRevision=l.readFixed(r,n),n+=4,l.readUint(r,n),n+=4,l.readUint(r,n),n+=4,u.flags=l.readUshort(r,n),n+=2,u.unitsPerEm=l.readUshort(r,n),n+=2,u.created=l.readUint64(r,n),n+=8,u.modified=l.readUint64(r,n),n+=8,u.xMin=l.readShort(r,n),n+=2,u.yMin=l.readShort(r,n),n+=2,u.xMax=l.readShort(r,n),n+=2,u.yMax=l.readShort(r,n),n+=2,u.macStyle=l.readUshort(r,n),n+=2,u.lowestRecPPEM=l.readUshort(r,n),n+=2,u.fontDirectionHint=l.readShort(r,n),n+=2,u.indexToLocFormat=l.readShort(r,n),n+=2,u.glyphDataFormat=l.readShort(r,n),n+=2,u},e.hhea={},e.hhea.parse=function(r,n,a){var l=e._bin,u={};return l.readFixed(r,n),n+=4,u.ascender=l.readShort(r,n),n+=2,u.descender=l.readShort(r,n),n+=2,u.lineGap=l.readShort(r,n),n+=2,u.advanceWidthMax=l.readUshort(r,n),n+=2,u.minLeftSideBearing=l.readShort(r,n),n+=2,u.minRightSideBearing=l.readShort(r,n),n+=2,u.xMaxExtent=l.readShort(r,n),n+=2,u.caretSlopeRise=l.readShort(r,n),n+=2,u.caretSlopeRun=l.readShort(r,n),n+=2,u.caretOffset=l.readShort(r,n),n+=2,n+=8,u.metricDataFormat=l.readShort(r,n),n+=2,u.numberOfHMetrics=l.readUshort(r,n),n+=2,u},e.hmtx={},e.hmtx.parse=function(r,n,a,l){for(var u=e._bin,f={aWidth:[],lsBearing:[]},h=0,m=0,g=0;g<l.maxp.numGlyphs;g++)g<l.hhea.numberOfHMetrics&&(h=u.readUshort(r,n),n+=2,m=u.readShort(r,n),n+=2),f.aWidth.push(h),f.lsBearing.push(m);return f},e.kern={},e.kern.parse=function(r,n,a,l){var u=e._bin,f=u.readUshort(r,n);if(n+=2,f==1)return e.kern.parseV1(r,n-2,a,l);var h=u.readUshort(r,n);n+=2;for(var m={glyph1:[],rval:[]},g=0;g<h;g++){n+=2,a=u.readUshort(r,n),n+=2;var _=u.readUshort(r,n);n+=2;var y=_>>>8;if((y&=15)!=0)throw"unknown kern table format: "+y;n=e.kern.readFormat0(r,n,m)}return m},e.kern.parseV1=function(r,n,a,l){var u=e._bin;u.readFixed(r,n),n+=4;var f=u.readUint(r,n);n+=4;for(var h={glyph1:[],rval:[]},m=0;m<f;m++){u.readUint(r,n),n+=4;var g=u.readUshort(r,n);n+=2,u.readUshort(r,n),n+=2;var _=g>>>8;if((_&=15)!=0)throw"unknown kern table format: "+_;n=e.kern.readFormat0(r,n,h)}return h},e.kern.readFormat0=function(r,n,a){var l=e._bin,u=-1,f=l.readUshort(r,n);n+=2,l.readUshort(r,n),n+=2,l.readUshort(r,n),n+=2,l.readUshort(r,n),n+=2;for(var h=0;h<f;h++){var m=l.readUshort(r,n);n+=2;var g=l.readUshort(r,n);n+=2;var _=l.readShort(r,n);n+=2,m!=u&&(a.glyph1.push(m),a.rval.push({glyph2:[],vals:[]}));var y=a.rval[a.rval.length-1];y.glyph2.push(g),y.vals.push(_),u=m}return n},e.loca={},e.loca.parse=function(r,n,a,l){var u=e._bin,f=[],h=l.head.indexToLocFormat,m=l.maxp.numGlyphs+1;if(h==0)for(var g=0;g<m;g++)f.push(u.readUshort(r,n+(g<<1))<<1);if(h==1)for(g=0;g<m;g++)f.push(u.readUint(r,n+(g<<2)));return f},e.maxp={},e.maxp.parse=function(r,n,a){var l=e._bin,u={},f=l.readUint(r,n);return n+=4,u.numGlyphs=l.readUshort(r,n),n+=2,f==65536&&(u.maxPoints=l.readUshort(r,n),n+=2,u.maxContours=l.readUshort(r,n),n+=2,u.maxCompositePoints=l.readUshort(r,n),n+=2,u.maxCompositeContours=l.readUshort(r,n),n+=2,u.maxZones=l.readUshort(r,n),n+=2,u.maxTwilightPoints=l.readUshort(r,n),n+=2,u.maxStorage=l.readUshort(r,n),n+=2,u.maxFunctionDefs=l.readUshort(r,n),n+=2,u.maxInstructionDefs=l.readUshort(r,n),n+=2,u.maxStackElements=l.readUshort(r,n),n+=2,u.maxSizeOfInstructions=l.readUshort(r,n),n+=2,u.maxComponentElements=l.readUshort(r,n),n+=2,u.maxComponentDepth=l.readUshort(r,n),n+=2),u},e.name={},e.name.parse=function(r,n,a){var l=e._bin,u={};l.readUshort(r,n),n+=2;var f=l.readUshort(r,n);n+=2,l.readUshort(r,n);for(var h,m=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],g=n+=2,_=0;_<f;_++){var y=l.readUshort(r,n);n+=2;var A=l.readUshort(r,n);n+=2;var B=l.readUshort(r,n);n+=2;var x=l.readUshort(r,n);n+=2;var S=l.readUshort(r,n);n+=2;var E=l.readUshort(r,n);n+=2;var T,w=m[x],b=g+12*f+E;if(y==0)T=l.readUnicode(r,b,S/2);else if(y==3&&A==0)T=l.readUnicode(r,b,S/2);else if(A==0)T=l.readASCII(r,b,S);else if(A==1)T=l.readUnicode(r,b,S/2);else if(A==3)T=l.readUnicode(r,b,S/2);else{if(y!=1)throw"unknown encoding "+A+", platformID: "+y;T=l.readASCII(r,b,S),console.debug("reading unknown MAC encoding "+A+" as ASCII")}var R="p"+y+","+B.toString(16);u[R]==null&&(u[R]={}),u[R][w!==void 0?w:x]=T,u[R]._lang=B}for(var F in u)if(u[F].postScriptName!=null&&u[F]._lang==1033)return u[F];for(var F in u)if(u[F].postScriptName!=null&&u[F]._lang==0)return u[F];for(var F in u)if(u[F].postScriptName!=null&&u[F]._lang==3084)return u[F];for(var F in u)if(u[F].postScriptName!=null)return u[F];for(var F in u){h=F;break}return console.debug("returning name table with languageID "+u[h]._lang),u[h]},e["OS/2"]={},e["OS/2"].parse=function(r,n,a){var l=e._bin.readUshort(r,n);n+=2;var u={};if(l==0)e["OS/2"].version0(r,n,u);else if(l==1)e["OS/2"].version1(r,n,u);else if(l==2||l==3||l==4)e["OS/2"].version2(r,n,u);else{if(l!=5)throw"unknown OS/2 table version: "+l;e["OS/2"].version5(r,n,u)}return u},e["OS/2"].version0=function(r,n,a){var l=e._bin;return a.xAvgCharWidth=l.readShort(r,n),n+=2,a.usWeightClass=l.readUshort(r,n),n+=2,a.usWidthClass=l.readUshort(r,n),n+=2,a.fsType=l.readUshort(r,n),n+=2,a.ySubscriptXSize=l.readShort(r,n),n+=2,a.ySubscriptYSize=l.readShort(r,n),n+=2,a.ySubscriptXOffset=l.readShort(r,n),n+=2,a.ySubscriptYOffset=l.readShort(r,n),n+=2,a.ySuperscriptXSize=l.readShort(r,n),n+=2,a.ySuperscriptYSize=l.readShort(r,n),n+=2,a.ySuperscriptXOffset=l.readShort(r,n),n+=2,a.ySuperscriptYOffset=l.readShort(r,n),n+=2,a.yStrikeoutSize=l.readShort(r,n),n+=2,a.yStrikeoutPosition=l.readShort(r,n),n+=2,a.sFamilyClass=l.readShort(r,n),n+=2,a.panose=l.readBytes(r,n,10),n+=10,a.ulUnicodeRange1=l.readUint(r,n),n+=4,a.ulUnicodeRange2=l.readUint(r,n),n+=4,a.ulUnicodeRange3=l.readUint(r,n),n+=4,a.ulUnicodeRange4=l.readUint(r,n),n+=4,a.achVendID=[l.readInt8(r,n),l.readInt8(r,n+1),l.readInt8(r,n+2),l.readInt8(r,n+3)],n+=4,a.fsSelection=l.readUshort(r,n),n+=2,a.usFirstCharIndex=l.readUshort(r,n),n+=2,a.usLastCharIndex=l.readUshort(r,n),n+=2,a.sTypoAscender=l.readShort(r,n),n+=2,a.sTypoDescender=l.readShort(r,n),n+=2,a.sTypoLineGap=l.readShort(r,n),n+=2,a.usWinAscent=l.readUshort(r,n),n+=2,a.usWinDescent=l.readUshort(r,n),n+=2},e["OS/2"].version1=function(r,n,a){var l=e._bin;return n=e["OS/2"].version0(r,n,a),a.ulCodePageRange1=l.readUint(r,n),n+=4,a.ulCodePageRange2=l.readUint(r,n),n+=4},e["OS/2"].version2=function(r,n,a){var l=e._bin;return n=e["OS/2"].version1(r,n,a),a.sxHeight=l.readShort(r,n),n+=2,a.sCapHeight=l.readShort(r,n),n+=2,a.usDefault=l.readUshort(r,n),n+=2,a.usBreak=l.readUshort(r,n),n+=2,a.usMaxContext=l.readUshort(r,n),n+=2},e["OS/2"].version5=function(r,n,a){var l=e._bin;return n=e["OS/2"].version2(r,n,a),a.usLowerOpticalPointSize=l.readUshort(r,n),n+=2,a.usUpperOpticalPointSize=l.readUshort(r,n),n+=2},e.post={},e.post.parse=function(r,n,a){var l=e._bin,u={};return u.version=l.readFixed(r,n),n+=4,u.italicAngle=l.readFixed(r,n),n+=4,u.underlinePosition=l.readShort(r,n),n+=2,u.underlineThickness=l.readShort(r,n),n+=2,u},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,n){var a=r.cmap,l=-1;if(a.p0e4!=null?l=a.p0e4:a.p3e1!=null?l=a.p3e1:a.p1e0!=null?l=a.p1e0:a.p0e3!=null&&(l=a.p0e3),l==-1)throw"no familiar platform and encoding!";var u=a.tables[l];if(u.format==0)return n>=u.map.length?0:u.map[n];if(u.format==4){for(var f=-1,h=0;h<u.endCount.length;h++)if(n<=u.endCount[h]){f=h;break}return f==-1||u.startCount[f]>n?0:65535&(u.idRangeOffset[f]!=0?u.glyphIdArray[n-u.startCount[f]+(u.idRangeOffset[f]>>1)-(u.idRangeOffset.length-f)]:n+u.idDelta[f])}if(u.format==12){if(n>u.groups[u.groups.length-1][1])return 0;for(h=0;h<u.groups.length;h++){var m=u.groups[h];if(m[0]<=n&&n<=m[1])return m[2]+(n-m[0])}return 0}throw"unknown cmap table format "+u.format},e.U.glyphToPath=function(r,n){var a={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[n]){var l=r.SVG.entries[n];return l==null?a:(typeof l=="string"&&(l=e.SVG.toPath(l),r.SVG.entries[n]=l),l)}if(r.CFF){var u={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},f=r.CFF,h=r.CFF.Private;if(f.ROS){for(var m=0;f.FDSelect[m+2]<=n;)m+=2;h=f.FDArray[f.FDSelect[m+1]].Private}e.U._drawCFF(r.CFF.CharStrings[n],u,f,h,a)}else r.glyf&&e.U._drawGlyf(n,r,a);return a},e.U._drawGlyf=function(r,n,a){var l=n.glyf[r];l==null&&(l=n.glyf[r]=e.glyf._parseGlyf(n,r)),l!=null&&(l.noc>-1?e.U._simpleGlyph(l,a):e.U._compoGlyph(l,n,a))},e.U._simpleGlyph=function(r,n){for(var a=0;a<r.noc;a++){for(var l=a==0?0:r.endPts[a-1]+1,u=r.endPts[a],f=l;f<=u;f++){var h=f==l?u:f-1,m=f==u?l:f+1,g=1&r.flags[f],_=1&r.flags[h],y=1&r.flags[m],A=r.xs[f],B=r.ys[f];if(f==l)if(g){if(!_){e.U.P.moveTo(n,A,B);continue}e.U.P.moveTo(n,r.xs[h],r.ys[h])}else _?e.U.P.moveTo(n,r.xs[h],r.ys[h]):e.U.P.moveTo(n,(r.xs[h]+A)/2,(r.ys[h]+B)/2);g?_&&e.U.P.lineTo(n,A,B):y?e.U.P.qcurveTo(n,A,B,r.xs[m],r.ys[m]):e.U.P.qcurveTo(n,A,B,(A+r.xs[m])/2,(B+r.ys[m])/2)}e.U.P.closePath(n)}},e.U._compoGlyph=function(r,n,a){for(var l=0;l<r.parts.length;l++){var u={cmds:[],crds:[]},f=r.parts[l];e.U._drawGlyf(f.glyphIndex,n,u);for(var h=f.m,m=0;m<u.crds.length;m+=2){var g=u.crds[m],_=u.crds[m+1];a.crds.push(g*h.a+_*h.b+h.tx),a.crds.push(g*h.c+_*h.d+h.ty)}for(m=0;m<u.cmds.length;m++)a.cmds.push(u.cmds[m])}},e.U._getGlyphClass=function(r,n){var a=e._lctf.getInterval(n,r);return a==-1?0:n[a+2]},e.U._applySubs=function(r,n,a,l){for(var u=r.length-n-1,f=0;f<a.tabs.length;f++)if(a.tabs[f]!=null){var h,m=a.tabs[f];if(!m.coverage||(h=e._lctf.coverageIndex(m.coverage,r[n]))!=-1){if(a.ltype==1)r[n],m.fmt==1?r[n]=r[n]+m.delta:r[n]=m.newg[h];else if(a.ltype==4)for(var g=m.vals[h],_=0;_<g.length;_++){var y=g[_],A=y.chain.length;if(!(A>u)){for(var B=!0,x=0,S=0;S<A;S++){for(;r[n+x+(1+S)]==-1;)x++;y.chain[S]!=r[n+x+(1+S)]&&(B=!1)}if(B){for(r[n]=y.nglyph,S=0;S<A+x;S++)r[n+S+1]=-1;break}}}else if(a.ltype==5&&m.fmt==2)for(var E=e._lctf.getInterval(m.cDef,r[n]),T=m.cDef[E+2],w=m.scset[T],b=0;b<w.length;b++){var R=w[b],F=R.input;if(!(F.length>u)){for(B=!0,S=0;S<F.length;S++){var D=e._lctf.getInterval(m.cDef,r[n+1+S]);if(E==-1&&m.cDef[D+2]!=F[S]){B=!1;break}}if(B){var k=R.substLookupRecords;for(_=0;_<k.length;_+=2)k[_],k[_+1]}}}else if(a.ltype==6&&m.fmt==3){if(!e.U._glsCovered(r,m.backCvg,n-m.backCvg.length)||!e.U._glsCovered(r,m.inptCvg,n)||!e.U._glsCovered(r,m.ahedCvg,n+m.inptCvg.length))continue;var J=m.lookupRec;for(b=0;b<J.length;b+=2){E=J[b];var O=l[J[b+1]];e.U._applySubs(r,n+E,O,l)}}}}},e.U._glsCovered=function(r,n,a){for(var l=0;l<n.length;l++)if(e._lctf.coverageIndex(n[l],r[a+l])==-1)return!1;return!0},e.U.glyphsToPath=function(r,n,a){for(var l={cmds:[],crds:[]},u=0,f=0;f<n.length;f++){var h=n[f];if(h!=-1){for(var m=f<n.length-1&&n[f+1]!=-1?n[f+1]:0,g=e.U.glyphToPath(r,h),_=0;_<g.crds.length;_+=2)l.crds.push(g.crds[_]+u),l.crds.push(g.crds[_+1]);for(a&&l.cmds.push(a),_=0;_<g.cmds.length;_++)l.cmds.push(g.cmds[_]);a&&l.cmds.push("X"),u+=r.hmtx.aWidth[h],f<n.length-1&&(u+=e.U.getPairAdjustment(r,h,m))}}return l},e.U.P={},e.U.P.moveTo=function(r,n,a){r.cmds.push("M"),r.crds.push(n,a)},e.U.P.lineTo=function(r,n,a){r.cmds.push("L"),r.crds.push(n,a)},e.U.P.curveTo=function(r,n,a,l,u,f,h){r.cmds.push("C"),r.crds.push(n,a,l,u,f,h)},e.U.P.qcurveTo=function(r,n,a,l,u){r.cmds.push("Q"),r.crds.push(n,a,l,u)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,n,a,l,u){for(var f=n.stack,h=n.nStems,m=n.haveWidth,g=n.width,_=n.open,y=0,A=n.x,B=n.y,x=0,S=0,E=0,T=0,w=0,b=0,R=0,F=0,D=0,k=0,J={val:0,size:0};y<r.length;){e.CFF.getCharString(r,y,J);var O=J.val;if(y+=J.size,O=="o1"||O=="o18")f.length%2!=0&&!m&&(g=f.shift()+l.nominalWidthX),h+=f.length>>1,f.length=0,m=!0;else if(O=="o3"||O=="o23")f.length%2!=0&&!m&&(g=f.shift()+l.nominalWidthX),h+=f.length>>1,f.length=0,m=!0;else if(O=="o4")f.length>1&&!m&&(g=f.shift()+l.nominalWidthX,m=!0),_&&e.U.P.closePath(u),B+=f.pop(),e.U.P.moveTo(u,A,B),_=!0;else if(O=="o5")for(;f.length>0;)A+=f.shift(),B+=f.shift(),e.U.P.lineTo(u,A,B);else if(O=="o6"||O=="o7")for(var H=f.length,L=O=="o6",q=0;q<H;q++){var W=f.shift();L?A+=W:B+=W,L=!L,e.U.P.lineTo(u,A,B)}else if(O=="o8"||O=="o24"){H=f.length;for(var se=0;se+6<=H;)x=A+f.shift(),S=B+f.shift(),E=x+f.shift(),T=S+f.shift(),A=E+f.shift(),B=T+f.shift(),e.U.P.curveTo(u,x,S,E,T,A,B),se+=6;O=="o24"&&(A+=f.shift(),B+=f.shift(),e.U.P.lineTo(u,A,B))}else{if(O=="o11")break;if(O=="o1234"||O=="o1235"||O=="o1236"||O=="o1237")O=="o1234"&&(S=B,E=(x=A+f.shift())+f.shift(),k=T=S+f.shift(),b=T,F=B,A=(R=(w=(D=E+f.shift())+f.shift())+f.shift())+f.shift(),e.U.P.curveTo(u,x,S,E,T,D,k),e.U.P.curveTo(u,w,b,R,F,A,B)),O=="o1235"&&(x=A+f.shift(),S=B+f.shift(),E=x+f.shift(),T=S+f.shift(),D=E+f.shift(),k=T+f.shift(),w=D+f.shift(),b=k+f.shift(),R=w+f.shift(),F=b+f.shift(),A=R+f.shift(),B=F+f.shift(),f.shift(),e.U.P.curveTo(u,x,S,E,T,D,k),e.U.P.curveTo(u,w,b,R,F,A,B)),O=="o1236"&&(x=A+f.shift(),S=B+f.shift(),E=x+f.shift(),k=T=S+f.shift(),b=T,R=(w=(D=E+f.shift())+f.shift())+f.shift(),F=b+f.shift(),A=R+f.shift(),e.U.P.curveTo(u,x,S,E,T,D,k),e.U.P.curveTo(u,w,b,R,F,A,B)),O=="o1237"&&(x=A+f.shift(),S=B+f.shift(),E=x+f.shift(),T=S+f.shift(),D=E+f.shift(),k=T+f.shift(),w=D+f.shift(),b=k+f.shift(),R=w+f.shift(),F=b+f.shift(),Math.abs(R-A)>Math.abs(F-B)?A=R+f.shift():B=F+f.shift(),e.U.P.curveTo(u,x,S,E,T,D,k),e.U.P.curveTo(u,w,b,R,F,A,B));else if(O=="o14"){if(f.length>0&&!m&&(g=f.shift()+a.nominalWidthX,m=!0),f.length==4){var Y=f.shift(),K=f.shift(),j=f.shift(),I=f.shift(),G=e.CFF.glyphBySE(a,j),z=e.CFF.glyphBySE(a,I);e.U._drawCFF(a.CharStrings[G],n,a,l,u),n.x=Y,n.y=K,e.U._drawCFF(a.CharStrings[z],n,a,l,u)}_&&(e.U.P.closePath(u),_=!1)}else if(O=="o19"||O=="o20")f.length%2!=0&&!m&&(g=f.shift()+l.nominalWidthX),h+=f.length>>1,f.length=0,m=!0,y+=h+7>>3;else if(O=="o21")f.length>2&&!m&&(g=f.shift()+l.nominalWidthX,m=!0),B+=f.pop(),A+=f.pop(),_&&e.U.P.closePath(u),e.U.P.moveTo(u,A,B),_=!0;else if(O=="o22")f.length>1&&!m&&(g=f.shift()+l.nominalWidthX,m=!0),A+=f.pop(),_&&e.U.P.closePath(u),e.U.P.moveTo(u,A,B),_=!0;else if(O=="o25"){for(;f.length>6;)A+=f.shift(),B+=f.shift(),e.U.P.lineTo(u,A,B);x=A+f.shift(),S=B+f.shift(),E=x+f.shift(),T=S+f.shift(),A=E+f.shift(),B=T+f.shift(),e.U.P.curveTo(u,x,S,E,T,A,B)}else if(O=="o26")for(f.length%2&&(A+=f.shift());f.length>0;)x=A,S=B+f.shift(),A=E=x+f.shift(),B=(T=S+f.shift())+f.shift(),e.U.P.curveTo(u,x,S,E,T,A,B);else if(O=="o27")for(f.length%2&&(B+=f.shift());f.length>0;)S=B,E=(x=A+f.shift())+f.shift(),T=S+f.shift(),A=E+f.shift(),B=T,e.U.P.curveTo(u,x,S,E,T,A,B);else if(O=="o10"||O=="o29"){var X=O=="o10"?l:a;if(f.length==0)console.debug("error: empty stack");else{var Q=f.pop(),te=X.Subrs[Q+X.Bias];n.x=A,n.y=B,n.nStems=h,n.haveWidth=m,n.width=g,n.open=_,e.U._drawCFF(te,n,a,l,u),A=n.x,B=n.y,h=n.nStems,m=n.haveWidth,g=n.width,_=n.open}}else if(O=="o30"||O=="o31"){var ee=f.length,ie=(se=0,O=="o31");for(se+=ee-(H=-3&ee);se<H;)ie?(S=B,E=(x=A+f.shift())+f.shift(),B=(T=S+f.shift())+f.shift(),H-se==5?(A=E+f.shift(),se++):A=E,ie=!1):(x=A,S=B+f.shift(),E=x+f.shift(),T=S+f.shift(),A=E+f.shift(),H-se==5?(B=T+f.shift(),se++):B=T,ie=!0),e.U.P.curveTo(u,x,S,E,T,A,B),se+=4}else{if((O+"").charAt(0)=="o")throw console.debug("Unknown operation: "+O,r),O;f.push(O)}}}n.x=A,n.y=B,n.nStems=h,n.haveWidth=m,n.width=g,n.open=_};var t=e,i={Typr:t};return c.Typr=t,c.default=i,Object.defineProperty(c,"__esModule",{value:!0}),c}({}).Typr}
)}
)